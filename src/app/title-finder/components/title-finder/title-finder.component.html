<div class="jumbotron">
  <h1>Fetch title!</h1>
  <p>Enter any url below and this will fetch the title for you!</p>

  <div class="row">
    <div class="col-lg-6">
      <div class="input-group">
        <div class="input-group-btn input-group-btn-select">
          <select class="form-control input-select" required [(ngModel)]="proto">
              <option value="https://">https://</option>
              <option value="http://">http://</option>
          </select>
        </div>
        <input (keyup.enter)="onSubmit()" type="text" class="form-control input-no-left-margin" id="url" placeholder="Enter url" [(ngModel)]="url">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" (click)="onSubmit()">Go!</button>
        </span>
      </div>
    </div>
  </div>
  <div class="row error">
    <div class="col-lg-12">
      <div *ngIf="!makingCall && !invalidInput">
        <div *ngIf="title?.valid" class="alert alert-success">
          <strong>Title: </strong>
          {{title?.title}}
        </div>

        <div *ngIf="!title?.valid && title?.errorMessage?.length" class="alert alert-danger" role="alert">
          <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
          <span class="sr-only">Error:</span>
          {{title?.errorMessage}}
        </div>
      </div>
      <div *ngIf="makingCall">
        <span class="glyphicon glyphicon-refresh spinning"></span>
      </div>
      <div *ngIf="invalidInput" class="error-section">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        <span class="sr-only">Error:</span>
        {{errorMessage}}
      </div>
    </div>
  </div>
</div>
